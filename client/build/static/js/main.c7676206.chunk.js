(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{4:function(e,t,a){e.exports=a(9)},9:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a.n(c),n=a(3),r=a.n(n),l=a(1);var i=function(){return s.a.createElement("div",{className:"searchbar"},s.a.createElement("input",{type:"text"}))},m=s.a.createContext([]);m.displayName="TicketsDB";var d=m.Provider,o=m;var u=function(e){return s.a.createElement("div",{className:"owner-item sidebar-template",onClick:function(){e.onClick(e.id)}},s.a.createElement("img",{className:"owner-img",src:e.imgSrc,alt:"avatar"}),s.a.createElement("div",{className:"reported-time"},e.reportedTime),s.a.createElement("div",{className:"asset-name"},e.assetName),s.a.createElement("div",{className:"status-name status-"+e.status.toLowerCase()},e.status))};var E=function(e){var t=new Date(e);return t.setHours(t.getHours()-1),t.toLocaleDateString("en-GB")+" "+t.toLocaleTimeString("en-GB",{hour:"numeric",minute:"numeric"})};var v=function(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),n=a[0],r=a[1],i=Object(c.useContext)(o);function m(t){e.getSelectedOwnerId(t);var a=document.querySelector('div[id = "'.concat(n,'"]')),c=document.querySelector('div[id = "'.concat(n,'"] .asset-name')),s=document.querySelector('div[id = "'.concat(t,'"]')),l=document.querySelector('div[id = "'.concat(t,'"] .asset-name'));return""===n?(s.classList.add("item-picked"),l.classList.add("item-picked-asset-name"),void r(t)):n===t?void 0:(a.classList.remove("item-picked"),c.classList.remove("item-picked-asset-name"),s.classList.add("item-picked"),l.classList.add("item-picked-asset-name"),void r(t))}return s.a.createElement("div",{className:"sidebar"},s.a.createElement("div",{className:"sidebar-header"},s.a.createElement("div",{className:"sidebar-template"},s.a.createElement("button",{className:"header-owner"},"OWNER"),s.a.createElement("button",{className:"header-reported"},"REPORTED"),s.a.createElement("button",{className:"header-asset"},"ASSET"),s.a.createElement("button",{className:"header-status"},"STATUS"))),s.a.createElement("div",{className:"sidebar-owners"},i.map((function(e){return s.a.createElement("div",{key:e.ticketId,id:e.ticketId},s.a.createElement(u,{id:e.ticketId,imgSrc:e.owner.avatar,reportedTime:E(e.reportedTime),assetName:e.asset.name,status:"a"===e.status.slice(0,1)?"ASD":e.status.slice(0,3).toUpperCase(),onClick:m}))}))))};var N=function(e){var t,a=Object(c.useContext)(o).find((function(t){return t.ticketId===e.renderId}));return"undefined"!==typeof a&&(t="a"===a.status.slice(0,1)?"ASD":a.status.slice(0,3).toUpperCase()),s.a.createElement("div",{className:"ticket-info"},"undefined"===typeof a?s.a.createElement("div",{className:"no-ticket"},s.a.createElement("div",null,"No ticket selected")):s.a.createElement("div",{className:"ticket-descr"},s.a.createElement("div",{className:"ticket-header-area"},s.a.createElement("div",{className:"ticket-number"},"TICKET NO. ",s.a.createElement("span",null,a.number)),s.a.createElement("div",{className:"ticket-last-updated"},"LAST UPDATED ",E(a.lastUpdatedTime))),s.a.createElement("div",{className:"ticket-owner-area"},s.a.createElement("div",{className:"ticket-descr-header"},"Owner"),s.a.createElement("div",{className:"ticket-descr-content"},s.a.createElement("img",{src:a.owner.avatar,alt:"avatar"}),s.a.createElement("div",null,s.a.createElement("p",null,a.owner.firstName+" "+a.owner.lastName),s.a.createElement("p",null,a.owner.specialities[0].toUpperCase())))),s.a.createElement("div",{className:"ticket-details-area"},s.a.createElement("div",{className:"ticket-descr-header"},"Details"),s.a.createElement("div",{className:"ticket-descr-content"},s.a.createElement("div",{className:"item"},s.a.createElement("p",null,"Reported"),s.a.createElement("div",{className:"highlight-element"},E(a.reportedTime))),s.a.createElement("div",{className:"item"},s.a.createElement("p",null,"Status"),s.a.createElement("div",{className:"status-name status-"+t.toLowerCase()},t)),s.a.createElement("div",{className:"item"},s.a.createElement("p",null,"Description"),s.a.createElement("div",{className:"highlight-element"},a.description)))),s.a.createElement("div",{className:"ticket-asset-area"},s.a.createElement("div",{className:"ticket-descr-header"},"Asset"),s.a.createElement("div",{className:"ticket-descr-content"},s.a.createElement("div",{className:"item"},s.a.createElement("p",null,"Name"),s.a.createElement("div",{className:"highlight-element"},a.asset.name)),s.a.createElement("div",{className:"item"},s.a.createElement("p",null,"GeoCode"),s.a.createElement("div",{className:"highlight-element"},a.asset.geoCode)),s.a.createElement("div",{className:"item"},s.a.createElement("p",null,"Location"),s.a.createElement("div",{style:{display:"flex"}},s.a.createElement("div",{className:"status-name highlight-element"},a.asset.kmFrom),s.a.createElement("div",{className:"status-name highlight-element",style:{marginLeft:"0.2em"}},a.asset.kmTo)))))))};var p=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(),m=Object(l.a)(r,2),o=m[0],u=m[1];return Object(c.useEffect)((function(){fetch("/tickets").then((function(e){return e.json()})).then((function(e){return n(e)})).catch((function(e){return console.log(e.message)}))}),[]),s.a.createElement("div",{className:"app"},s.a.createElement("header",{className:"header"},s.a.createElement("h2",null,"Tickets")),s.a.createElement(d,{value:a},s.a.createElement(i,null),s.a.createElement(v,{getSelectedOwnerId:function(e){u(e)}}),s.a.createElement(N,{renderId:o})))};r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(p,null)),document.getElementById("root"))}},[[4,1,2]]]);
//# sourceMappingURL=main.c7676206.chunk.js.map