{"version":3,"sources":["components/SearchBar.js","components/context.js","components/OwnerItem.js","getDateTime.js","components/SideBar.js","components/TicketInfo.js","components/App.js","index.js"],"names":["SearchBar","className","type","TicketsContext","React","createContext","displayName","TicketsProvider","Provider","OwnerItem","props","onClick","id","src","imgSrc","alt","reportedTime","assetName","status","toLowerCase","getDateTime","str","date","Date","setHours","getHours","toLocaleDateString","toLocaleTimeString","hour","minute","SideBar","useState","itemIDClicked","setItemIDClicked","tickets","useContext","handleItemClick","getSelectedOwnerId","itemAlreadyClicked","document","querySelector","itemAlreadyClickedAssetName","itemNowClicked","itemNowClickedAssetName","classList","add","remove","map","item","key","ticketId","owner","avatar","asset","name","slice","toUpperCase","TicketInfo","ticket","find","renderId","number","lastUpdatedTime","firstName","lastName","specialities","description","geoCode","style","display","kmFrom","marginLeft","kmTo","App","apiResponse","setApiResponse","selectedItemID","setSelectedItemID","useEffect","fetch","then","res","json","catch","err","console","log","message","value","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c7676206.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction SearchBar(){\r\n    return (\r\n        <div className = \"searchbar\">\r\n            <input type=\"text\"></input>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar;","import React from \"react\";\r\n\r\nconst TicketsContext = React.createContext([]);\r\nTicketsContext.displayName = \"TicketsDB\";\r\n\r\nexport const TicketsProvider = TicketsContext.Provider;\r\nexport default TicketsContext;\r\n\r\n","import React from \"react\";\r\n\r\nfunction OwnerItem(props){\r\n\r\n    return (\r\n        <div className = \"owner-item sidebar-template\" onClick = {() => {props.onClick(props.id)}}>\r\n            <img className=\"owner-img\" src={props.imgSrc} alt=\"avatar\"></img>\r\n            <div className=\"reported-time\">{props.reportedTime}</div>\r\n            <div className=\"asset-name\">{props.assetName}</div>\r\n            <div className={\"status-name status-\" + props.status.toLowerCase()}>{props.status}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OwnerItem;","function getDateTime(str){\r\n    const date = new Date(str);\r\n    date.setHours(date.getHours() - 1);\r\n    const locale = \"en-GB\";\r\n    const options = { hour: \"numeric\", minute: \"numeric\"}\r\n    return date.toLocaleDateString(locale) + \" \" + date.toLocaleTimeString(locale, options);\r\n}\r\n\r\nexport default getDateTime;","import React, {useContext, useState} from \"react\";\r\nimport TicketsContext from \"./context\";\r\nimport OwnerItem from \"./OwnerItem\";\r\nimport getDateTime from \"../getDateTime\";\r\nfunction SideBar(props){\r\n\r\n    const [itemIDClicked, setItemIDClicked] = useState(\"\");\r\n    const tickets = useContext(TicketsContext);\r\n\r\n    function handleItemClick(id){\r\n        props.getSelectedOwnerId(id);\r\n        const itemAlreadyClicked = document.querySelector(`div[id = \"${itemIDClicked}\"]`);\r\n        const itemAlreadyClickedAssetName = document.querySelector(`div[id = \"${itemIDClicked}\"] .asset-name`);\r\n        const itemNowClicked = document.querySelector(`div[id = \"${id}\"]`);\r\n        const itemNowClickedAssetName = document.querySelector(`div[id = \"${id}\"] .asset-name`);\r\n        if(itemIDClicked === \"\") {\r\n            itemNowClicked.classList.add(\"item-picked\");\r\n            itemNowClickedAssetName.classList.add(\"item-picked-asset-name\");\r\n            setItemIDClicked(id);\r\n            return;\r\n        }\r\n        if(itemIDClicked === id) return;\r\n        else{\r\n            itemAlreadyClicked.classList.remove(\"item-picked\");\r\n            itemAlreadyClickedAssetName.classList.remove(\"item-picked-asset-name\");\r\n            itemNowClicked.classList.add(\"item-picked\");\r\n            itemNowClickedAssetName.classList.add(\"item-picked-asset-name\");\r\n            setItemIDClicked(id);\r\n            return;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className = \"sidebar\">\r\n            <div className = \"sidebar-header\">\r\n                <div className=\"sidebar-template\">\r\n                    <button className = \"header-owner\">OWNER</button>\r\n                    <button className = \"header-reported\">REPORTED</button>\r\n                    <button className = \"header-asset\">ASSET</button>\r\n                    <button className = \"header-status\">STATUS</button>\r\n                </div>\r\n            </div>\r\n            <div className = \"sidebar-owners\">\r\n                {tickets.map(item => (<div key={item.ticketId} id = {item.ticketId}>\r\n                                            <OwnerItem \r\n                                            id = {item.ticketId}\r\n                                            imgSrc = {item.owner.avatar} \r\n                                            reportedTime = {getDateTime(item.reportedTime)} \r\n                                            assetName = {item.asset.name} \r\n                                            status = {(item.status.slice(0, 1) === \"a\") ? \"ASD\" : item.status.slice(0, 3).toUpperCase()}\r\n                                            onClick = {handleItemClick}\r\n                                            />\r\n                                        </div>\r\n                                        \r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default SideBar;","import React, {useContext} from \"react\";\r\nimport TicketsContext from \"./context\";\r\nimport getDateTime from \"../getDateTime\";\r\n\r\n\r\nfunction TicketInfo(props){\r\n    const tickets = useContext(TicketsContext);\r\n    const ticket = (tickets.find(item => item.ticketId === props.renderId));\r\n    let status;\r\n    if (typeof ticket !== 'undefined') status = (ticket.status.slice(0, 1) === \"a\") ? \"ASD\" : ticket.status.slice(0, 3).toUpperCase();\r\n    return (<div className = \"ticket-info\"> \r\n\r\n                {(typeof ticket === \"undefined\") ? \r\n\r\n                (<div className = \"no-ticket\"><div>No ticket selected</div></div>) : \r\n\r\n                (<div className = \"ticket-descr\">\r\n                    <div className = \"ticket-header-area\">\r\n                        <div className = \"ticket-number\">\r\n                            TICKET NO. <span>{ticket.number}</span>\r\n                        </div>\r\n                        <div className = \"ticket-last-updated\">\r\n                            LAST UPDATED {getDateTime(ticket.lastUpdatedTime)}\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"ticket-owner-area\">\r\n                        <div className = \"ticket-descr-header\">Owner</div>\r\n                        <div className = \"ticket-descr-content\">\r\n                            <img src={ticket.owner.avatar} alt=\"avatar\"></img>\r\n                            <div>\r\n                                <p>{ticket.owner.firstName + \" \" + ticket.owner.lastName}</p>\r\n                                <p>{ticket.owner.specialities[0].toUpperCase()}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"ticket-details-area\">\r\n                        <div className = \"ticket-descr-header\">Details</div>\r\n                        <div className = \"ticket-descr-content\">\r\n                            <div className = \"item\">\r\n                                <p>Reported</p> \r\n                                <div className = \"highlight-element\">{getDateTime(ticket.reportedTime)}</div>\r\n                            </div>\r\n                            <div className = \"item\">\r\n                                <p>Status</p>\r\n                                <div className={\"status-name status-\" + status.toLowerCase()}>{status}</div> \r\n                            </div>\r\n                            <div className = \"item\">\r\n                                <p>Description</p>\r\n                                <div className = \"highlight-element\">{ticket.description}</div> \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className = \"ticket-asset-area\">\r\n                        <div className = \"ticket-descr-header\">Asset</div>\r\n                        <div className = \"ticket-descr-content\">\r\n                            <div className = \"item\">\r\n                                <p>Name</p> \r\n                                <div className = \"highlight-element\">{ticket.asset.name}</div>\r\n                            </div>\r\n                            <div className = \"item\">\r\n                                <p>GeoCode</p>\r\n                                <div className = \"highlight-element\">{ticket.asset.geoCode}</div> \r\n                            </div>\r\n                            <div className = \"item\">\r\n                                <p>Location</p>\r\n                                <div style={{display: \"flex\"}}>\r\n                                    <div className=\"status-name highlight-element\">{ticket.asset.kmFrom}</div>\r\n                                    <div className=\"status-name highlight-element\" style={{marginLeft: \"0.2em\"}}>{ticket.asset.kmTo}</div>\r\n                                </div> \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>)}\r\n            </div>)\r\n}\r\n\r\n\r\nexport default TicketInfo;","import React, {useState, useEffect} from 'react';\nimport SearchBar from \"./SearchBar\";\nimport SideBar from \"./SideBar\";\nimport TicketInfo from \"./TicketInfo\";\nimport {TicketsProvider} from \"./context.js\";\n\nfunction App() {\n  const [apiResponse, setApiResponse] = useState([]);\n  const [selectedItemID, setSelectedItemID] = useState();\n\n  // function callAPI() {\n  //   const url = \"https://raw.githubusercontent.com/Tapify/public-code-test/master/web-ui-test/tickets.json\"; \n  //   fetch(url)\n  //       .then(res => res.json())\n  //       .then(res => setApiResponse(res));\n  // }\n\n  // useEffect(() => {\n  //   callAPI();\n  // }, []);\n\n  function callAPI() {\n    const url = \"/tickets\";\n      fetch(url)\n          .then(res => res.json())\n          .then(res =>  setApiResponse(res))\n          .catch(err => console.log(err.message));\n  }\n\n  useEffect(() => {\n    callAPI();\n  }, []);\n\n  function getOwnerId(id){\n    setSelectedItemID(id);\n  }\n\n  return (\n    <div className=\"app\">\n      <header className = \"header\">\n        <h2>Tickets</h2>       \n      </header>\n\n      <TicketsProvider value = {apiResponse}>\n        <SearchBar />\n        <SideBar getSelectedOwnerId = {getOwnerId}/>\n        <TicketInfo renderId = {selectedItemID}/> \n      </TicketsProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}